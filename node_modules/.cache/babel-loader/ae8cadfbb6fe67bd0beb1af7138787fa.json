{"ast":null,"code":"var _jsxFileName = \"/home/jorgeborges/Documents/oneBitCodeFullStackJS/React_front_end/ListandoPlanetas/src/components/planeta/index.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport ImagemCinza from '../shared/imagemCinza';\nimport DescricaoComLink from '../shared/descricaoComLink';\nimport Form from './form';\nimport { useParams, useHistory, Redirect } from 'react-router-dom';\n\nasync function getPlaneta(id) {\n  let response = await fetch(`http://localhost:3000/api/${id}.json`);\n  let data = await response.json();\n  return data;\n}\n\nconst Planeta = () => {\n  let [satelites, setSatelites] = useState([]);\n  let [planeta, setPlaneta] = useState({});\n  let [redirect, setRedirect] = useState(false);\n  let {\n    id\n  } = useParams();\n  let history = useHistory();\n  useEffect(() => {\n    getPlaneta(id).then(data => {\n      setPlaneta(data['data']);\n      setSatelites(data['satellites']);\n    }, error => {\n      setRedirect(true);\n    });\n  }, [id]);\n\n  const irParaPlanetas = () => {\n    history.push('/');\n  };\n\n  const adicionandoSatelites = novo_satelite => {\n    setSatelites([...satelites, novo_satelite]);\n  };\n\n  if (redirect) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: '/',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 2\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 3\n    }\n  }, planeta.name), /*#__PURE__*/React.createElement(DescricaoComLink, {\n    link: planeta.link,\n    descricao: planeta.descricao,\n    nome: planeta.nome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(ImagemCinza, {\n    img_url: planeta.img_url,\n    alt_valor: planeta.alt_valor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: irParaPlanetas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }\n  }, \"Voltar \\xE0 listagem\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 3\n    }\n  }, \"Lista de Sat\\xE9lites\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 3\n    }\n  }, \"Adicionar mais sat\\xE9lites\"), /*#__PURE__*/React.createElement(Form, {\n    adicionandoSatelites: adicionandoSatelites,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 3\n    }\n  }, satelites.map((satelite, index) => /*#__PURE__*/React.createElement(\"li\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 40\n    }\n  }, satelite.name))));\n};\n\nexport default Planeta;","map":{"version":3,"sources":["/home/jorgeborges/Documents/oneBitCodeFullStackJS/React_front_end/ListandoPlanetas/src/components/planeta/index.js"],"names":["React","Fragment","useState","useEffect","ImagemCinza","DescricaoComLink","Form","useParams","useHistory","Redirect","getPlaneta","id","response","fetch","data","json","Planeta","satelites","setSatelites","planeta","setPlaneta","redirect","setRedirect","history","then","error","irParaPlanetas","push","adicionandoSatelites","novo_satelite","name","link","descricao","nome","img_url","alt_valor","map","satelite","index"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,QAAzB,EAAmCC,SAAnC,QAAmD,OAAnD;AACA,OAAOC,WAAP,MAAwB,uBAAxB;AACA,OAAOC,gBAAP,MAA6B,4BAA7B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,QAAhC,QAAgD,kBAAhD;;AAGA,eAAeC,UAAf,CAA0BC,EAA1B,EAA6B;AAC5B,MAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4BF,EAAG,OAAjC,CAA1B;AACA,MAAIG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAjB;AACA,SAAOD,IAAP;AACA;;AAED,MAAME,OAAO,GAAG,MAAM;AACrB,MAAI,CAACC,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,EAAD,CAAxC;AACA,MAAI,CAACiB,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,EAAD,CAApC;AACA,MAAI,CAACmB,QAAD,EAAWC,WAAX,IAA0BpB,QAAQ,CAAC,KAAD,CAAtC;AACA,MAAI;AAACS,IAAAA;AAAD,MAAOJ,SAAS,EAApB;AACA,MAAIgB,OAAO,GAAGf,UAAU,EAAxB;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACfO,IAAAA,UAAU,CAACC,EAAD,CAAV,CAAea,IAAf,CAAqBV,IAAD,IAAS;AAC5BM,MAAAA,UAAU,CAACN,IAAI,CAAC,MAAD,CAAL,CAAV;AACAI,MAAAA,YAAY,CAACJ,IAAI,CAAC,YAAD,CAAL,CAAZ;AACA,KAHD,EAGGW,KAAK,IAAI;AACXH,MAAAA,WAAW,CAAC,IAAD,CAAX;AACA,KALD;AAMC,GAPO,EAOL,CAACX,EAAD,CAPK,CAAT;;AASA,QAAMe,cAAc,GAAG,MAAM;AAC5BH,IAAAA,OAAO,CAACI,IAAR,CAAa,GAAb;AACA,GAFD;;AAKD,QAAMC,oBAAoB,GAAIC,aAAD,IAAkB;AAC9CX,IAAAA,YAAY,CAAC,CAAC,GAAGD,SAAJ,EAAeY,aAAf,CAAD,CAAZ;AACA,GAFD;;AAIA,MAAGR,QAAH,EAAY;AACX,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACA;;AAED,sBACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,OAAO,CAACW,IAAb,CADD,eAEC,oBAAC,gBAAD;AAAkB,IAAA,IAAI,EAAEX,OAAO,CAACY,IAAhC;AAAsC,IAAA,SAAS,EAAEZ,OAAO,CAACa,SAAzD;AAAoE,IAAA,IAAI,EAAEb,OAAO,CAACc,IAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAGd,OAAO,CAACe,OAA/B;AAAyC,IAAA,SAAS,EAAGf,OAAO,CAACgB,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,eAKE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAET,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BALF,eAMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAND,eAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAPD,eAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARD,eASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCATD,eAUC,oBAAC,IAAD;AAAM,IAAA,oBAAoB,EAAIE,oBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVD,eAWC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXD,eAYC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEEX,SAAS,CAACmB,GAAV,CAAc,CAACC,QAAD,EAAWC,KAAX,kBAAqB;AAAI,IAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiBD,QAAQ,CAACP,IAA1B,CAAnC,CAFF,CAZD,CADD;AAqBC,CAlDD;;AAoDA,eAAed,OAAf","sourcesContent":["import React, {Fragment, useState, useEffect} from \"react\";\nimport ImagemCinza from '../shared/imagemCinza';\nimport DescricaoComLink from '../shared/descricaoComLink';\nimport Form from './form';\nimport { useParams, useHistory, Redirect } from 'react-router-dom'\n\n\nasync function getPlaneta(id){\n\tlet response = await fetch(`http://localhost:3000/api/${id}.json`);\n\tlet data = await response.json(); \n\treturn data;\n}\n\nconst Planeta = () => {\n\tlet [satelites, setSatelites] = useState([])\n\tlet [planeta, setPlaneta] = useState({})\n\tlet [redirect, setRedirect] = useState(false);\n\tlet {id} = useParams();\n\tlet history = useHistory();\n\n\tuseEffect(() => {\n\t\tgetPlaneta(id).then((data) =>{\n\t\t\tsetPlaneta(data['data'])\n\t\t\tsetSatelites(data['satellites'])\n\t\t}, error => {\n\t\t\tsetRedirect(true);\n\t\t} \n\t)}, [id]);\n\n\tconst irParaPlanetas = () => {\n\t\thistory.push('/');\n\t}\n\n\nconst adicionandoSatelites = (novo_satelite) =>{\n\tsetSatelites([...satelites, novo_satelite]);\n}\n\nif(redirect){\n\treturn <Redirect to={'/'} />\n}\n\nreturn(\n\t<Fragment>\n\t\t<h4>{planeta.name}</h4>\n\t\t<DescricaoComLink link={planeta.link} descricao={planeta.descricao} nome={planeta.nome}/>\n\t\t<ImagemCinza img_url={ planeta.img_url } alt_valor={ planeta.alt_valor } />\n\t\t<hr/>\n\t\t\t<button type=\"button\" onClick={irParaPlanetas}>Voltar à listagem</button>\n\t\t<hr/>\n\t\t<h5>Lista de Satélites</h5>\n\t\t<hr/>\n\t\t<h6>Adicionar mais satélites</h6>\n\t\t<Form adicionandoSatelites = {adicionandoSatelites} />\n\t\t<hr/>\n\t\t<ul>\t\t\n\t\t\t{\t\n\t\t\t\tsatelites.map((satelite, index) => <li key={index}>{satelite.name}</li>)\n\t\t\t}\n\t\t</ul>\n\t</Fragment>\n\n\t)\t\t\n}\n\nexport default Planeta"]},"metadata":{},"sourceType":"module"}